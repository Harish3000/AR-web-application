<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Secret AR Experience</title>
    <!-- 1. A-Frame Core FIRST -->
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <!-- 2. AR.js for A-Frame IMMEDIATELY AFTER -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <!-- 3. Your main CSS -->
    <link rel="stylesheet" href="style.css" />
  </head>
  <body style="margin: 0px; overflow: hidden">
    <!-- Landing Page / Passcode Popup -->
    <div id="landing-page">
      <div class="popup">
        <h1>Secret AR Portal</h1>
        <p>Enter the secret password to unlock:</p>
        <input type="password" <!-- Changed to password type -- />
        id="passcode-input" placeholder="Password" />
        <button id="enter-button">Enter AR</button>
        <p id="error-message" class="error"></p>
      </div>
    </div>

    <!-- Loading Spinner -->
    <div id="loader" class="loader-wrapper" style="display: none">
      <div class="loader"></div>
      <p>Loading AR...</p>
    </div>

    <!-- AR Scene Container -->
    <div
      id="ar-container"
      style="
        display: none;
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
      "
    >
      <!-- Visual Feedback UI -->
      <div id="ar-feedback" class="ar-feedback-ui" style="display: none">
        <div class="feedback-content">
          <div class="scan-animation">
            <div class="scan-line"></div>
          </div>
          <p id="feedback-text">Scanning for markers...</p>
        </div>
      </div>

      <a-scene
        id="ar-scene"
        embedded
        arjs="sourceType: webcam; debugUIEnabled: false;"
        <!--
        Debug
        UI
        disabled
        for
        cleaner
        look
        --
      >
        >
        <!-- Bird Marker -->
        <a-marker
          id="marker-bird"
          type="pattern"
          url="markers/marker_bird.patt"
          data-animal-name="Beautiful Bird"
          <!--
          Custom
          attribute
          for
          display
          name
          --
        >
          >
          <a-entity
            id="model-bird"
            gltf-model="url(assets/bird.glb)"
            scale="0.1 0.1 0.1"
            <!--
            INCREASED
            BIRD
            SCALE
            --
          >
            position="0 0.5 0" rotation="-90 0 0" animation="property: rotation;
            to: -90 360 0; loop: true; dur: 10000; easing: linear" >
          </a-entity>
        </a-marker>

        <!-- Dino Marker -->
        <a-marker
          id="marker-dino"
          type="pattern"
          url="markers/marker_dino.patt"
          data-animal-name="Mighty Dinosaur"
          <!--
          Custom
          attribute
          for
          display
          name
          --
        >
          >
          <a-entity
            id="model-dino"
            gltf-model="url(assets/dino.glb)"
            scale="0.5 0.5 0.5"
            <!--
            Adjusted
            dino
            scale
            slightly
            for
            consistency
            --
          >
            position="0 0.2 0" rotation="0 0 0" visible="true"
            animation__pos="property: position; to: 0 0.3 0; dir: alternate;
            loop: true; dur: 2000; easing: easeInOutSine"
            animation__rot="property: rotation; to: 0 360 0; loop: true; dur:
            15000; easing: linear" >
          </a-entity>
        </a-marker>

        <a-entity camera></a-entity>
      </a-scene>
    </div>

    <script src="script.js"></script>
  </body>
</html>
