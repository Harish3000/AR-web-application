<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Simple Animal AR</title>
    <!-- OLDER STABLE A-FRAME -->
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <!-- AR.JS for A-Frame 1.3.0 (from a more stable CDN if possible, or a specific commit) -->
    <!-- Let's try the version often used with 1.3.0, though CDN links can change -->
    <!-- Alternative AR.js link (check compatibility, this one is older but might be more stable with A-Frame 1.3.0) -->
    <script src="https://cdn.jsdelivr.net/gh/jeromeetienne/AR.js@1.7.7/aframe/build/aframe-ar.js"></script>
    <!-- OR if the above doesn't work, try a slightly different one sometimes cited for stability:
    <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.7.2/aframe/build/aframe-ar.js"></script>
    -->
    <link rel="stylesheet" href="style.css" />
  </head>
  <body style="margin: 0px; overflow: hidden">
    <!-- ... rest of your HTML (landing page, loader) ... -->
    <div id="landing-page">
      <div class="popup">
        <h1>Animal AR Experience</h1>
        <p>Enter the name of an animal to unlock:</p>
        <input
          type="text"
          id="passcode-input"
          placeholder="e.g., bird or dino"
        />
        <button id="enter-button">Enter AR</button>
        <p id="error-message" class="error"></p>
      </div>
    </div>

    <div id="loader" class="loader-wrapper" style="display: none">
      <div class="loader"></div>
      <p>Loading AR...</p>
    </div>

    <div
      id="ar-container"
      style="
        display: none;
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
      "
    >
      <!-- NOTE: Some arjs parameters might change syntax or availability with older AR.js versions -->
      <!-- Let's start very simple for AR.js on the scene -->
      <a-scene
        id="ar-scene"
        embedded
        arjs="sourceType: webcam; debugUIEnabled: true;"
        renderer="logarithmicDepthBuffer: true;"
        <!--
        Often
        recommended
        with
        older
        AR.js
        --
      >
        >
        <!-- Removed trackingMethod etc. for now -->

        <a-marker
          id="marker-bird"
          type="pattern"
          url="markers/marker_bird.patt"
        >
          <a-entity
            id="model-bird"
            gltf-model="url(assets/bird.glb)"
            scale="0.03 0.03 0.03"
            position="0 0.5 0"
            rotation="-90 0 0"
            animation="property: rotation; to: -90 360 0; loop: true; dur: 10000; easing: linear"
          >
          </a-entity>
        </a-marker>

        <a-marker
          id="marker-dino"
          type="pattern"
          url="markers/marker_dino.patt"
        >
          <a-entity
            id="model-dino"
            gltf-model="url(assets/dino.glb)"
            scale="1 1 1"
            position="0 0.2 0"
            rotation="0 0 0"
            visible="true"
            animation__pos="property: position; to: 0 0.3 0; dir: alternate; loop: true; dur: 2000; easing: easeInOutSine"
            animation__rot="property: rotation; to: 0 360 0; loop: true; dur: 15000; easing: linear"
          >
          </a-entity>
        </a-marker>

        <!-- Use a-camera instead of a-entity camera for older AR.js compatibility -->
        <a-camera gps-camera rotation-reader> </a-camera>
      </a-scene>
    </div>
    <script src="script.js"></script>
  </body>
</html>
